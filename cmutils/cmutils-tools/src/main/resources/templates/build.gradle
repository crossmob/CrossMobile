/****************************************************************
 *                                                              *
 * This File is Generated by the CrossMobile build system once. *
 * After creation, CrossMobile will not change this script.     *
 *                                                              *
 * If you delete this file, it will be recreated the next time  *
 * the build system will be affective.                          *
 *                                                              *
 *            *************************************             *
 *            * Change this file at your own risk *             *
 *            *************************************             *
 *                                                              *
 *                                                              *
 * You can find the CrossMobile Framework here:                 *
 * https://crossmobile.org/                                    *
 *                                                              *
 ****************************************************************/

buildscript {
    repositories {
        mavenCentral()
        mavenLocal()
        google()
        jcenter()
        maven {
            url 'https://mvn.crossmobile.org/content/repositories/crossmobile/'
        }
    }
    dependencies {
__ANDROID_GRADLE_DEPS__        classpath 'com.android.tools.build:gradle:8.2.0'
    }
}

allprojects {
    repositories {
        mavenCentral()
        mavenLocal()
        google()
        jcenter()
    }
    buildDir = "target/app/build/"
}

afterEvaluate {
    if (project.hasProperty('android')) {
        project.android {
            if (namespace == null) {
                namespace project.group
            }
        }
    }
}

apply plugin: 'com.android.application'
apply from: 'target/app/crossmobile.gradle'

def localProperties = new Properties()
file("local.properties").withInputStream {
    stream -> localProperties.load(stream)
}

android {
    compileSdkVersion 34

    defaultConfig {
        applicationId appId
        minSdkVersion 21
        targetSdkVersion 34
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    signingConfigs {
        release {
            if (localProperties['key.store'])
                storeFile file(localProperties['key.store'])
            storePassword localProperties['key.store.password']
            keyAlias localProperties['key.alias']
            keyPassword localProperties['key.alias.password']
        }
    }

    buildTypes {
        release {
            if (project.hasProperty("useproguard")) {
                minifyEnabled true
                proguardFiles getDefaultProguardFile('proguard-android.txt'), "crossmobile.pro", 'proguard-rules.pro'
            }
            sourceSets {
                main {
                    manifest.srcFile 'target/app/AndroidManifest.xml'
                    java.srcDirs('src/main/java', 'target/generated-sources', 'target/app/gen/main', 'target/generated-sources/annotations')
                    res.srcDirs = ['target/app/res']
                    assets.srcDirs = ['target/app/asset']
                }
            }
            signingConfig signingConfigs.release
        }
        debug {
            sourceSets {
                main {
                    manifest.srcFile 'target/app/AndroidManifest.xml'
                    java.srcDirs('src/main/java', 'target/generated-sources/main', 'target/app/gen/main', 'target/generated-sources/annotations')
                    res.srcDirs = ['target/app/res']
                    assets.srcDirs = ['target/app/asset']
                }
            }
        }
    }
}

__ANDROID_GRADLE_ROOT__
